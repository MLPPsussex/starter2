<!DOCTYPE html>
<html>
<body>
  <p> Canvas Text program </p>
<canvas id="Canvas1" width="800" height="500" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.</canvas>

<script>

	const canvas = document.getElementById('Canvas1');
		const ctx = canvas.getContext('2d');

		// Define the font properties
		const fontName = 'monospace';
		const fontSize = 100;
		const charWidth = 80; // Adjust as needed to get the desired spacing

		// Define the characters to include
		const chars = 'ABCDEFGH';

		// Create an object to store the bitmaps for each character
		const charBitmaps = {};

		// Draw each character to the screen and capture it as a bitmap
		for (let i = 0; i < chars.length; i++) {
			const char = chars.charAt(i);

			// Set the font properties for this character
			ctx.font = `${fontSize}px ${fontName}`;
			ctx.textAlign = 'center';
			ctx.textBaseline = 'middle';

			// Draw the character to the screen
			ctx.fillText(char, i * charWidth + charWidth / 2, fontSize / 2);

			// Capture the character as a bitmap
			charBitmaps[char] = ctx.getImageData(i * charWidth, 0, charWidth, fontSize);
		}

		// Define a function to write text to the canvas using the bitmaps
		function writeText(text, x, y, scale) {
			// Loop through each character in the text
			for (let i = 0; i < text.length; i++) {
				const char = text.charAt(i);

				// If the character is not in the bitmap object, skip it
				if (!charBitmaps[char]) continue;

				// Calculate the position and size of the character bitmap
				const xPos = x + i * charWidth;
				const yPos = y;
				const width = charWidth * scale;
				const height = fontSize * scale;

				// Draw the character bitmap to the screen
				ctx.putImageData(charBitmaps[char], xPos, yPos, 0, 0, width, height);
				scale=.9*scale
			}
		}

		// Example usage
		writeText('AAABBBBBBB', 50, 200, 1)
	</script>
</body>
</html>
